<script setup lang="ts">
import { computed } from 'vue'

// convert to typescript props
const props = withDefaults(defineProps<{
  colorMode?: 'dark' | 'light'
  title?: string
  description?: string
  icon?: string | boolean
  version?: string
  siteName?: string
  siteLogo?: string
  theme?: string
}>(), {
  colorMode: 'light',
  theme: '#00dc82',
  title: 'title',
})

const HexRegex = /^#(?:[0-9a-f]{3}){1,2}$/i

const themeHex = computed(() => {
  // regex test if valid hex
  if (HexRegex.test(props.theme))
    return props.theme

  // if it's hex without the hash, just add the hash
  if (HexRegex.test(`#${props.theme}`))
    return `#${props.theme}`

  // if it's rgb or rgba, we convert it to hex
  if (props.theme.startsWith('rgb')) {
    const rgb = props.theme
      .replace('rgb(', '')
      .replace('rgba(', '')
      .replace(')', '')
      .split(',')
      .map(v => Number.parseInt(v.trim(), 10))
    const hex = rgb
      .map((v) => {
        const hex = v.toString(16)
        return hex.length === 1 ? `0${hex}` : hex
      })
      .join('')
    return `#${hex}`
  }
  return '#FFFFFF'
})

const themeRgb = computed(() => {
  // we want to convert it so it's just `<red>, <green>, <blue>` (255, 255, 255)
  return themeHex.value
    .replace('#', '')
    .match(/.{1,2}/g)
    ?.map(v => Number.parseInt(v, 16))
    .join(', ')
})
</script>

<template>
  <div
    class="w-full h-full flex flex-col justify-center items-center relative p-[60px]"
    :class="[
      colorMode === 'light' ? ['bg-white', 'text-gray-900'] : ['bg-gray-900', 'text-gray-50'],
    ]"
  >
    <div
      class="flex absolute bottom-[-200%] right-[-50%]" :style="{
        width: '200%',
        height: '250%',
        backgroundImage: `radial-gradient(circle, rgba(${themeRgb}, 0.5) 0%,  ${colorMode === 'dark' ? 'rgba(5, 5, 5,0.3)' : 'rgba(255, 255, 255, 0.7)'} 50%, ${props.colorMode === 'dark' ? 'rgba(5, 5, 5,0)' : 'rgba(255, 255, 255, 0)'} 70%)`,
      }"
    />
    <div class="flex flex-row justify-center items-center text-left w-full mb-12">
      <svg height="100" width="100" class="text-green-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 267 262" xml:space="preserve">
        <path class="text-gray-900 dark:text-gray-200" fill="currentColor" d="M263.158 210.588a356.834 356.834 0 0 1-4.262 20.272c-6.823 10.235-16.074 16.193-27.508 15.709-9.868-.419-18.375-5.864-25.2-13.736-7.18-7.119-14.246-13.954-21.458-21.087-4.04-3.958-7.935-7.62-11.912-11.405-.083-.122-.328-.288-.451-.52-.814-.79-1.505-1.35-2.333-2.224-5.983-5.888-11.828-11.46-16.3-15.723-9.814 1.528-18.278 2.847-27.163 4.085-3.796-.411-7.172-.742-10.549-1.072-19.389-5.02-33.04-16.713-40.374-35.368-10.582-26.915.226-58.306 24.396-71.556 25.178-13.803 57.44-7.278 74.137 15.112 6.41 8.596 10.107 18.333 10.876 29.054.275 3.834 1.534 6.756 4.436 9.489 21.078 19.857 42.005 39.875 62.945 59.878 5.396 5.154 9.691 10.99 10.72 19.092m-69.483-19.776c.804.663 1.608 1.325 2.566 2.512.287.213.573.427 1.057 1.278 2.907 2.725 5.815 5.45 9.127 8.72 2.455 2.256 4.911 4.512 7.592 7.414 3.66 3.52 7.319 7.042 11.37 11.21 3.465 3.398 7.165 5.256 11.897 2.24 4.23-2.697 5.523-6.184 4.113-12.584-2.101-2.542-3.977-5.32-6.341-7.588-13.16-12.62-26.433-25.122-39.679-37.653-4.967-4.698-9.964-9.365-15.173-14.258-2.053 3.451-3.647 6.132-5.838 9.14l-5.036 5.914c6.051 5.716 11.883 11.225 17.91 17.228.29.192.579.384 1.088 1.179 1.682 1.562 3.364 3.124 5.347 5.248m-43.732-90.58c-10.045-7.61-21.03-9.549-33.713-5.474-1.433.688-2.866 1.375-4.906 2.127-.823.554-1.645 1.107-3.11 1.95-1.039.934-2.077 1.87-3.61 2.887-.303.377-.606.755-1.512 1.472-5.304 5.515-8.8 11.892-9.804 20.37-1.858 24.173 14.898 41.888 38.296 40.312 2.839-.19 5.615-1.305 9.083-1.922.778-.395 1.557-.79 2.999-1.304 4.836-4.424 9.673-8.849 15.047-13.656.408-.997.816-1.995 1.76-3.519 3.31-7.65 3.88-15.5 1.815-24.308-.937-2.443-1.875-4.887-2.895-7.816 0 0-.342-.355-.329-.988-.84-1.146-1.681-2.293-2.834-4.067-1.981-1.82-3.963-3.64-6.287-6.063z" />
        <path fill="currentColor" d="M142.168 224.923c-.526 1.84-1.433 3.664-1.505 5.52-.188 4.822.056 9.658.009 14.487-.057 5.809-2.836 8.954-8.622 9.652a36.509 36.509 0 0 1-6.98.147c-5.381-.391-8.263-3.162-8.426-8.61-.247-8.319-.117-16.65-.165-24.975-.025-4.483 1.265-8.377 5.64-10.267 4.862-2.1 9.787-1.754 14.345 1.032 1.224.748 2.085 2.088 3.38 3.442.266.285.322.316.323.626.354 2.784.706 5.26 1.107 7.933.332.47.613.742.894 1.013z" />
        <path fill="currentColor" d="M229.032 137.723c-2.992-.023-5.493.017-7.988-.077-7.696-.289-11.938-4.695-11.957-12.346-.018-7.269 4.268-11.49 11.917-11.63 7.66-.14 15.322-.278 22.983-.27 7.137.006 10.745 4.34 10.699 12.578-.046 8.296-3.206 11.818-10.67 11.827-4.83.006-9.66-.05-14.984-.082z" />
        <path fill="currentColor" d="M25.01 137.827c-4.32-.054-8.17.15-11.964-.22-6.226-.61-8.5-4.17-8.358-12.357.126-7.24 3.074-11.277 8.997-11.502 8.31-.314 16.64-.423 24.953-.257 6.21.125 10.54 5.497 10.444 12.268-.101 7.245-4.43 11.996-11.095 12.082-4.16.054-8.32-.005-12.976-.014z" />
        <path fill="currentColor" d="M116.648 11.1c3.823-6.647 16.339-8.611 21.333-3.45 1.458 1.506 2.47 4.046 2.56 6.16.316 7.3.195 14.62.127 21.933-.068 7.247-3.83 11.077-10.982 11.382-8.093.345-12.946-3.286-13.235-10.728-.32-8.287.032-16.599.197-25.298z" />
        <path fill="currentColor" d="M72.732 206.65c-4.6 4.605-8.826 9.08-13.316 13.273-4.275 3.993-7.4 4.17-11.957.613-2.451-1.914-4.745-4.227-6.512-6.775-3.156-4.553-2.753-8.061 1.071-12.05 4.254-4.435 8.672-8.716 13.059-13.022 6.077-5.966 11.537-6.346 16.865-1.235 6.481 6.217 6.842 12.726.79 19.196z" />
        <path fill="currentColor" d="M196.987 72.077c-5.68.823-10.224-.669-13.739-4.82-4.215-4.979-4.175-10.527.33-15.182 4.389-4.536 8.932-8.93 13.54-13.243 4.206-3.936 8.573-4.372 12.893-.621 2.793 2.425 5.056 5.692 6.809 8.98.834 1.564.758 4.848-.333 6-6.143 6.484-12.72 12.557-19.5 18.886z" />
        <path fill="currentColor" d="M77.148 59.041c-.723 5.547-3.386 9.498-7.936 11.834-4.095 2.103-8.397 2.318-12.106-1.054-5.422-4.927-10.722-9.99-16.12-14.944-2.673-2.454-3.005-5.423-.94-8.037 2.857-3.616 5.937-7.273 9.634-9.915 1.78-1.271 6.2-1.4 7.693-.084 6.712 5.92 12.833 12.514 19.07 18.96.584.605.481 1.875.705 3.24z" />
      </svg>
      <div class="text-black-800 text-5xl text-mono font-bold ml-10" style="letter-spacing: -2px;">
        Request Indexing
      </div>
    </div>
    <div class="flex flex-row w-full justify-around items-center relative">
      <div class="w-1/2">
        <div class="text-4xl" style="line-height: 1.6">
          <p>A free, open-source tool to get your pages indexed on Google within 48 hours.</p>
        </div>
      </div>
      <div>
        <img src="/card.png" style="width: 400px; height: 298px;" class="rounded-xl shadow-xl border-1 border-gray-50">
      </div>
    </div>
  </div>
</template>
